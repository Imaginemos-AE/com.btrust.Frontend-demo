import{g as e,f as o}from"./p-4b3ef3d0.js";import{g as t,s as n}from"./p-225b6562.js";const a=e=>!("isConnected"in e)||e.isConnected,r=(()=>{let e;return(...o)=>{e&&clearTimeout(e),e=setTimeout((()=>{e=0,(e=>{for(let o of e.keys())e.set(o,e.get(o).filter(a))})(...o)}),2e3)}})();const{state:s}=(()=>{const t=((e,o=((e,o)=>e!==o))=>{let t=new Map(Object.entries(null!=e?e:{}));const n={dispose:[],get:[],set:[],reset:[]},a=()=>{t=new Map(Object.entries(null!=e?e:{})),n.reset.forEach((e=>e()))},r=e=>(n.get.forEach((o=>o(e))),t.get(e)),s=(e,a)=>{const r=t.get(e);o(a,r,e)&&(t.set(e,a),n.set.forEach((o=>o(e,a,r))))},i="undefined"==typeof Proxy?{}:new Proxy(e,{get:(e,o)=>r(o),ownKeys:()=>Array.from(t.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,o)=>t.has(o),set:(e,o,t)=>(s(o,t),!0)}),c=(e,o)=>(n[e].push(o),()=>{((e,o)=>{const t=e.indexOf(o);t>=0&&(e[t]=e[e.length-1],e.length--)})(n[e],o)});return{state:i,get:r,set:s,on:c,onChange:(o,t)=>{const n=c("set",((e,n)=>{e===o&&t(n)})),a=c("reset",(()=>t(e[o])));return()=>{n(),a()}},use:(...e)=>e.forEach((e=>{e.set&&c("set",e.set),e.get&&c("get",e.get),e.reset&&c("reset",e.reset)})),dispose:()=>{n.dispose.forEach((e=>e())),a()},reset:a,forceUpdate:e=>{const o=t.get(e);n.set.forEach((t=>t(e,o,o)))}}})({currentUserInformation:{}},void 0);return(({on:t})=>{const n=new Map;"function"==typeof e&&(t("dispose",(()=>{n.clear()})),t("get",(o=>{const t=e();t&&((e,o,t)=>{const n=e.get(o);n?n.includes(t)||n.push(t):e.set(o,[t])})(n,o,t)})),t("set",(e=>{const t=n.get(e);t&&n.set(e,t.filter(o)),r(n)})),t("reset",(()=>{n.forEach((e=>e.forEach(o))),r(n)})))})(t),t})();function i(){s.currentUserInformation=t()}function c(e,o){s.currentUserInformation=Object.assign(Object.assign({},s.currentUserInformation),{[e]:o}),n(s.currentUserInformation)}function l(){!function(e){let o={primerNombre:(t=e.personalInformation).firstName,segundoNombre:t.middleName,primerApellido:t.surName,segundoApellido:t.secondSurName,tipoDocumento:t.documentType,documento:t.documentNumber,fechaExpedicion:t.expeditionDate,fechaNacimiento:t.birthDate,nacionalidad:t.nationality,departamentoNacimiento:t.departmentOfBirth,ciudadNacimiento:t.cityOfBirth,departamentoExpedicion:t.expeditionDepartment,municipioExpedicion:t.expeditionCity,telefono:t.mobilePhone,celular:t.phone,correo:t.email,genero:t.gender};var t;let n=function(e){var o,t;return{nivelAcademico:e.academicLevel,numHijos:e.childrenNumber,personasACargo:e.dependents,estadoCivil:e.civilState,departamentoResidencia:e.departmentOfResidence,municipioRecidencia:e.cityOfResidence,direccion:e.address,torre_Apt:e.place,estrato:null!==(o=e.stratus)&&void 0!==o?o:0,tipoVivienda:e.dwellingType,arriendo:null!==(t=parseFloat(e.rent))&&void 0!==t?t:0,tiempo:e.residenceTime,ocupacion:e.employment}}(e.personalInformation2),a=function(e){return{nombreEmpresa:e.companyName,cargo:e.position,esPublica:e.companyType,antiguedad:e.companySeniority,tipoontrato:e.contractType,actividad:e.companyActivity,destinoPrestamo:e.creditDestination,telefono:e.companyPhone,otroNumero:e.otherPhone,extencion:e.companyPhoneExtension}}(e.workingInformation),r=function(e){return{ingresosSalario:parseFloat(e.salaryIncome),ingresosOtros:""===e.otherIncomes?0:parseFloat(e.otherIncomes),ingresosSalarioVariable:parseFloat(e.variableSalaryIncome),descripcionIngresos:e.otherIncomesDescription,egresos:parseFloat(e.personalExpenses),arriendo:parseFloat(e.rentExpenses),egresosDeudas:parseFloat(e.debtExpenses),otrosEgresos:""===e.otherExpenses?0:parseFloat(e.otherExpenses),descripcionEgresos:e.otherExpensesDescription,activos:parseFloat(e.totalAssets),pasivos:parseFloat(e.totalLiabilities),totalIngresos:parseFloat(e.totalIncomes),totalGastos:parseFloat(e.totalExpenses)}}(e.financialInformation);console.log(Object.assign(Object.assign({},o),{infoSocioDemografica:n,infoLaboral:a,infoEconomica:r}));var s=new Headers;s.append("Access-Control-Allow-Origin","*"),s.append("Access-Control-Allow-Credentials","true"),s.append("GET","POST"),s.append("Content-Type","application/json");var i=JSON.stringify(Object.assign(Object.assign({},o),{infoSocioDemografica:n,infoLaboral:a,infoEconomica:r}));fetch("https://credito.muii.com.co/api/DataManager/",{method:"POST",headers:s,body:i,redirect:"follow"})}(s.currentUserInformation)}export{c as a,l as b,i as l,s}