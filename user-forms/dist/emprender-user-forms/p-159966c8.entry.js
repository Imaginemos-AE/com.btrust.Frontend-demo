import{g as e,f as t,r as n,c as o,h as s,H as i}from"./p-7d663aaa.js";import{l as r,a}from"./p-0af3cd17.js";const f=e=>!("isConnected"in e)||e.isConnected,c=(()=>{let e;return(...t)=>{e&&clearTimeout(e),e=setTimeout((()=>{e=0,(e=>{for(let t of e.keys())e.set(t,e.get(t).filter(f))})(...t)}),2e3)}})();function l(){const e=sessionStorage.getItem("muiiUserFormInfo");return JSON.parse(e)}const{state:m}=(()=>{const n=((e,t=((e,t)=>e!==t))=>{let n=new Map(Object.entries(null!=e?e:{}));const o={dispose:[],get:[],set:[],reset:[]},s=()=>{n=new Map(Object.entries(null!=e?e:{})),o.reset.forEach((e=>e()))},i=e=>(o.get.forEach((t=>t(e))),n.get(e)),r=(e,s)=>{const i=n.get(e);t(s,i,e)&&(n.set(e,s),o.set.forEach((t=>t(e,s,i))))},a="undefined"==typeof Proxy?{}:new Proxy(e,{get:(e,t)=>i(t),ownKeys:()=>Array.from(n.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>n.has(t),set:(e,t,n)=>(r(t,n),!0)}),f=(e,t)=>(o[e].push(t),()=>{((e,t)=>{const n=e.indexOf(t);n>=0&&(e[n]=e[e.length-1],e.length--)})(o[e],t)});return{state:a,get:i,set:r,on:f,onChange:(t,n)=>{const o=f("set",((e,o)=>{e===t&&n(o)})),s=f("reset",(()=>n(e[t])));return()=>{o(),s()}},use:(...e)=>e.forEach((e=>{e.set&&f("set",e.set),e.get&&f("get",e.get),e.reset&&f("reset",e.reset)})),dispose:()=>{o.dispose.forEach((e=>e())),s()},reset:s,forceUpdate:e=>{const t=n.get(e);o.set.forEach((n=>n(e,t,t)))}}})({currentUserInformation:{}},void 0);return(({on:n})=>{const o=new Map;"function"==typeof e&&(n("dispose",(()=>{o.clear()})),n("get",(t=>{const n=e();n&&((e,t,n)=>{const o=e.get(t);o?o.includes(n)||o.push(n):e.set(t,[n])})(o,t,n)})),n("set",(e=>{const n=o.get(e);n&&o.set(e,n.filter(t)),c(o)})),n("reset",(()=>{o.forEach((e=>e.forEach(t))),c(o)})))})(n),n})();function p(e,t){m.currentUserInformation=Object.assign(Object.assign({},m.currentUserInformation),{[e]:t}),function(e){const t=l(),n=Object.assign(Object.assign({},t),e);sessionStorage.setItem("muiiUserFormInfo",JSON.stringify(n))}(m.currentUserInformation)}const d=[{tag:"personal-information",field:"personalInformation"},{tag:"personal-information-2",field:"personalInformation2"},{tag:"working-information",field:"workingInformation"},{tag:"financial-information",field:"financialInformation"},{tag:"references",field:"references"}],h=[{tag:"personal-information",field:"personalInformation"},{tag:"personal-information-2",field:"personalInformation2"},{tag:"working-information",field:"workingInformation"},{tag:"financial-information",field:"financialInformation"},{tag:"references",field:"references"}],u=class{constructor(e){n(this,e),this.infoSaved=o(this,"infoSaved",7),this.backSaved=o(this,"backSaved",7),this.flowType="employee",this.step=4,this._getFlow=()=>"employee"===this.flowType?d:h,this._getData=e=>{var t;return(null!==(t=m.currentUserInformation)&&void 0!==t?t:{})[e]}}async componentWillLoad(){await r("https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Roboto:wght@400;500&family=Varela+Round&display=swap"),await a("https://imaginemos-ae.github.io/com.emprender.FrontEnd-demo/components-library/dist/emprender-components-library/emprender-components-library.esm.js","emprender-components-library","module"),m.currentUserInformation=l()}_renderCurrentStep(){if(this.step>=0&&this.step<this._getFlow().length){const{tag:e,field:t}=this._getFlow()[this.step];return s(`emprender-uf-${e}`,{model:this._getData(t),flow:this.flowType,onInfoSaved:e=>this.saveInfo(t,e.detail),onBack:e=>this.onBackPressed(t,e.detail)})}}_updateStep(e){if("up"===e){const e=this._getFlow().length-1;this.step=this.step<e?this.step+1:e}else this.step=0!=this.step?this.step-1:0}saveInfo(e,t){p(e,t),this._updateStep("up"),this.infoSaved.emit(m.currentUserInformation)}onBackPressed(e,t){p(e,t),this._updateStep("down"),this.backSaved.emit(m.currentUserInformation)}render(){return s(i,null,this._renderCurrentStep())}};u.style=":host{display:block}";export{u as emprender_user_forms}